# 🎮 Labyrinth - 게임 디자인 문서

## 📝 문서 개요

**버전**: 1.0
**최종 수정일**: 2025-12-29
**작성자**: Labyrinth 개발팀

이 문서는 **Labyrinth**의 세계관, 스토리, 게임 메커니즘을 정의합니다. 모든 개발 및 콘텐츠 추가는 이 문서를 기준으로 합니다.

---

## 🌍 세계관 (World Setting)

### 배경

**시대**: 마법과 검의 시대가 저물어가는 어둠의 시대
**장소**: 고대 왕국의 유적 아래 펼쳐진 끝없는 미로

수백 년 전, 강대한 마법 왕국이 존재했다. 왕국의 마법사들은 영생과 무한한 마력을 얻기 위해 지하 깊은 곳에 거대한 미로를 건설했다. 미로의 중심에는 "영원의 핵"이라 불리는 신비한 유물이 봉인되어 있었다.

하지만 탐욕에 눈먼 마법사들은 미로의 마법을 완전히 통제하지 못했고, 미로는 스스로 의지를 가진 살아있는 던전으로 변모했다. 미로는 끊임없이 형태를 바꾸며, 들어온 자를 결코 내보내지 않았다.

세월이 흘러 왕국은 멸망했지만, 미로는 여전히 지하 깊은 곳에서 맥동하고 있다. 부와 명예를 찾아, 혹은 영원히 사라진 이들을 찾아, 용감한 모험가들이 미로에 도전한다.

### 미로의 특성

**절차적 생성 (Procedural Generation)**
미로는 매번 다른 형태로 생성됩니다. 이는 고대 마법사들이 만든 "형태 변환 마법진"의 영향입니다. 동일한 마법진 패턴(Seed)을 사용하면 같은 구조를 재현할 수 있습니다.

**층별 구조**
미로는 여러 층으로 이루어져 있으며, 깊이 내려갈수록 더 위험하고 강력한 적들이 등장합니다:
- **1층 - 망각의 회랑**: 오래전 버려진 복도, 약한 몬스터들의 서식지
- **2층 - 뼈의 미궁**: 죽은 자들의 영혼이 떠도는 곳 (Phase 4 예정)
- **3층 - 불의 심연**: 용암과 화염 정령이 지키는 곳 (Phase 4 예정)
- **중심부 - 영원의 전당**: 영원의 핵이 봉인된 최종 구역 (Phase 5 예정)

---

## 👤 플레이어 캐릭터

### 주인공 설정

**이름**: 사용자 지정 가능
**직업**: 탐험가 (향후 확장: 전사, 도적, 마법사)
**동기**: 미로 깊은 곳에 사라진 형제를 찾기 위해

### 능력치 시스템 (Phase 4 예정)

**기본 능력치:**
- **체력 (Health)**: 생명력, 0이 되면 사망
- **공격력 (Attack)**: 기본 공격 데미지
- **이동속도 (Speed)**: 이동 속도
- **행운 (Luck)**: 아이템 드랍률, 크리티컬 확률 (Phase 4)

**성장 시스템:**
- 레벨업은 없음 (로그라이크 전통)
- 런 중 획득한 아이템과 장비로만 강화
- 영구 업그레이드는 메타 진행 시스템에서 제공 (Phase 5)

---

## 👾 적 (Enemies)

### 1층 - 망각의 회랑 몬스터

#### 고블린 정찰병 (Goblin Scout)
**종류**: 근접
**설명**: 미로에서 가장 흔한 몬스터. 작지만 빠르고 무리를 지어 움직인다.
**전투 패턴**: 순찰 → 플레이어 발견 시 추격 → 근접 공격
**약점**: 체력이 낮아 2-3타면 처치 가능
**전리품**: 소량의 금화, 드물게 소형 체력 물약

**배경 스토리**:
원래는 지상에서 온 고블린 부족이었으나, 미로의 마법에 물들어 출구를 찾지 못한 채 세대를 거듭하며 퇴화했다. 이제는 미로의 일부가 되어 침입자를 공격한다.

#### 해골 전사 (Skeleton Warrior)
**종류**: 근접
**설명**: 고대 왕국의 병사들이 언데드로 되살아난 존재. 느리지만 강력하다.
**전투 패턴**: 느린 순찰 → 장시간 추적 → 강력한 근접 공격
**약점**: 이동이 느려 도망칠 수 있음
**전리품**: 중간량의 금화, 녹슨 검, 중형 체력 물약

**배경 스토리**:
왕국의 마지막 날, 왕을 지키기 위해 미로에 들어온 친위대. 하지만 왕은 이미 사라진 뒤였고, 그들은 주인을 찾지 못한 채 영원히 미로를 배회한다.

#### 어둠의 마법사 (Dark Mage)
**종류**: 원거리
**설명**: 미로의 마법에 타락한 마법사. 어둠의 화살을 발사한다.
**전투 패턴**: 방어적 순찰 → 원거리 공격 → 추적 짧음
**약점**: 근접전에 약함, 빠르게 접근하면 도망감
**전리품**: 많은 금화, 마법 지팡이, 마나 물약

**배경 스토리**:
왕국의 마법사들 중 일부는 미로에 남아 연구를 계속했다. 하지만 세월이 흐르며 정신이 뒤틀렸고, 이제는 미로를 침범하는 모든 이를 제거하려 든다.

---

## 🎲 조우 시스템 (Encounter System)

### 조우 유형

#### 1. 적 조우 (Enemy Encounter)
**발생**: 교차로, 코너, 막다른 길에 스폰 포인트 배치
**동작**: 플레이어 접근 시 적 스폰, AI 패턴에 따라 순찰/추적

#### 2. 함정 (Traps)
**발생**: 일부 복도에 일회성 트리거 배치
**종류**:
- **가시 함정**: 즉시 고정 데미지
- **독가스 함정**: 일정 시간 지속 데미지
- **느려지는 함정**: 이동속도 감소

#### 3. 보물 (Loot)
**발생**: 일부 복도나 막다른 길
**종류**:
- **보물 상자**: 금화
- **치유의 샘**: 체력 회복
- **아이템 상자**: 소비 아이템 (Phase 4)

#### 4. 이벤트 (Event Text)
**발생**: 특정 지점에 배치
**동작**: 선택지 제공, 선택에 따라 보상/패널티
**예시**:
- **신비한 석상**: 제물 vs 파괴 선택
- **고대의 제단**: 기도 vs 약탈 선택
- **수상한 상인**: 거래 vs 무시 선택 (Phase 4)

---

## 🎯 게임 메커니즘 (Game Mechanics)

### 핵심 루프

```
미로 진입 (새 Seed)
    ↓
탐험 (이동, 시야, Fog-of-War)
    ↓
조우 (적, 함정, 보물, 이벤트)
    ↓
전투 (공격, 회피, 아이템 사용)
    ↓
성장 (골드, 아이템 획득)
    ↓
탈출 or 사망
    ↓
결과 확인 (통계, 점수)
    ↓
메타 진행 (영구 업그레이드, Phase 5)
    ↓
다시 미로 진입
```

### 시야 시스템 (Field of View)

**전방 시야 (Shadowcasting)**:
플레이어는 전방 8칸 거리까지만 볼 수 있습니다. 벽 뒤는 보이지 않으며, 어둠 속에 무엇이 숨어있을지 알 수 없습니다.

**Fog of War (전쟁의 안개)**:
- **미탐색 (Unexplored)**: 한 번도 가보지 않은 곳, 완전히 어두움
- **탐색 완료 (Explored)**: 지나간 적이 있는 곳, 흐릿하게 보임
- **현재 시야 (Visible)**: 지금 볼 수 있는 곳, 밝게 보임

### 전투 시스템

**공격**:
- 마우스 클릭 또는 스페이스바로 공격
- 사거리 내 적에게 데미지
- 공격 쿨다운 존재

**피격**:
- 적의 공격 범위 내에 있으면 자동 피격
- 체력 0 도달 시 사망 → 런 종료

**회피**:
- 이동을 통한 수동 회피
- 적보다 빠른 이동속도 활용

### 예산 시스템 (Encounter Budget)

**목적**: 적이 무한정 스폰되어 플레이어를 압도하는 것을 방지

**제약**:
- 동시에 활성화될 수 있는 적의 수 제한 (기본 5마리)
- 런 전체에서 스폰 가능한 총 적의 수 제한 (기본 30마리)
- 스폰 간격 쿨다운 (기본 5초)

이를 통해 플레이어가 항상 압도당하지 않으면서도 긴장감을 유지합니다.

---

## 🏆 목표 및 승리 조건

### 단기 목표 (1층 런)
1. 미로의 출구를 찾아 탈출
2. 최대한 많은 금화 획득
3. 최대한 많은 구역 탐색 (탐색률)

### 장기 목표 (메타 진행, Phase 5)
1. 더 깊은 층으로 진입
2. 형제의 흔적 발견 (스토리 진행)
3. 영원의 핵 도달 (최종 목표)

### 패배 조건
- 체력 0 도달 시 사망
- 모든 진행 상황 초기화 (로그라이크 전통)
- 단, 메타 진행 요소는 유지 (영구 업그레이드, Phase 5)

---

## 📊 진행도 및 보상 시스템

### 런 통계 (Run Metrics)

각 런 종료 시 다음 통계를 기록합니다:
- **탐색률**: 전체 미로 중 탐험한 비율
- **처치한 적 수**: 총 처치 수
- **획득한 금화**: 총 금화 (사망 시 소실)
- **생존 시간**: 런 플레이 시간
- **도달한 층**: 최대 도달 층수 (Phase 4)

### 점수 계산 (Phase 4)

```
최종 점수 = (탐색률 × 100) + (처치 수 × 10) + (금화) + (층수 보너스)
```

### 메타 진행 (Phase 5)

**영구 업그레이드**:
- 런 종료 시 획득한 금화의 일부가 "유산"으로 전환
- 유산으로 영구 업그레이드 구매 가능:
  - 시작 체력 증가
  - 시작 공격력 증가
  - 특수 아이템 해금
  - 새로운 직업 해금

**스토리 진행**:
- 특정 조건 달성 시 형제의 흔적 발견
- 미로의 비밀 해금
- 엔딩 조건 달성

---

## 🎨 미술 및 사운드 방향 (Phase 4)

### 미술 스타일
- **2D 픽셀 아트**: 레트로 로그라이크 느낌
- **어두운 색조**: 미로의 음울한 분위기
- **밝은 강조색**: 플레이어, 아이템, 중요 요소

### 사운드
- **배경 음악**: 층별로 다른 분위기
  - 1층: 서늘하고 고요한 피아노
  - 2층: 불안한 현악기
  - 3층: 긴박한 타악기
- **효과음**: 발걸음, 공격, 피격, 아이템 획득

---

## 🛠️ 확장 계획

### Phase 4: 다층 던전 + 바이옴
- 층별 미로 생성
- 바이옴 시스템 (불, 얼음, 독 등)
- 층별 난이도 곡선
- 아이템/장비 시스템

### Phase 5: 메타 진행 + 스토리
- 영구 업그레이드
- 스토리 이벤트
- 멀티 엔딩
- 도전 과제 시스템

### Phase 6: 최종 완성
- 완전한 게임 밸런스
- 리더보드
- 업적 시스템
- 스팀 출시 준비

---

## 📚 참고한 게임

이 게임은 다음 로그라이크 명작들에서 영감을 받았습니다:

- **The Binding of Isaac**: 절차적 생성, 아이템 시너지
- **Enter the Gungeon**: 탄막 회피, 방 기반 던전
- **Hades**: 메타 진행, 스토리 통합, 영구 업그레이드
- **Slay the Spire**: 런 통계, 점수 시스템
- **Dead Cells**: 로그라이트 요소, 영구 업그레이드

---

## ✅ 디자인 원칙

1. **공정한 난이도**: 모든 죽음은 플레이어의 실수 때문이어야 함
2. **명확한 피드백**: 플레이어가 무슨 일이 일어났는지 항상 알 수 있어야 함
3. **의미 있는 선택**: 모든 선택에는 장단점이 있어야 함
4. **재플레이 가치**: 매번 다른 경험을 제공해야 함
5. **메타 진행**: 실패해도 무언가 얻어가는 느낌

---

**이 문서는 게임 개발 과정에서 지속적으로 업데이트됩니다.**
